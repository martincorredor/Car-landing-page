(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3718:(e,a,r)=>{Promise.resolve().then(r.bind(r,2435))},2435:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>B});var t=r(7437),n=r(2265),o=r(8620),s=r(1538),i=r(3216),l=r(2129),c=r(5870),d=r(8038),h=r(5786),m=r(6548),p=r(511),u=r(861),g=r.n(u),_=r(5236),x=r(9842);let f=(0,_.ZF)({apiKey:"AIzaSyCnPFeH_LKfTUOUuTSxEBUj50DA-3Isv9o",authDomain:"car-app-8ce47.firebaseapp.com",projectId:"car-app-8ce47",storageBucket:"car-app-8ce47.appspot.com",messagingSenderId:"9657181403",appId:"1:9657181403:web:5f7697d4fc4060a2ae58fe",measurementId:"G-SYM3Z0BYS1"}),j=(0,x.ad)(f),C=async e=>{let{firstName:a,lastName:r,document:t,department:n,city:o,phone:s,email:i,habeasData:l,userCode:c}=e;try{await (0,x.ET)((0,x.hJ)(j,"users"),{firstName:a,lastName:r,document:t,department:n,city:o,phone:s,email:i,habeasData:l,userCode:c}),console.log("Usuario a\xf1adido correctamente")}catch(e){console.error("Error a\xf1adiendo el documento: ",e)}},v=async e=>{let a=(0,x.IO)((0,x.hJ)(j,"users"),(0,x.ar)("document","==",e)),r=await (0,x.PL)(a);return r.empty?null:r.docs[0].data()},N=()=>{let e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",a=e.charAt(Math.floor(Math.random()*e.length))+e.charAt(Math.floor(Math.random()*e.length)),r=Math.floor(100+900*Math.random());return"".concat(a).concat(r)},b=e=>{let{open:a,onClose:r,departmentsList:u,cities:_,fetchCities:x}=e,[f,j]=(0,n.useState)({firstName:"",lastName:"",document:"",department:"",city:"",phone:"",email:"",habeasData:!1}),[b,Z]=(0,n.useState)(""),[S,y]=(0,n.useState)(!1),[M,k]=(0,n.useState)(""),R=e=>{/^[A-Za-z\s]*$/.test(e.target.value)||(e.target.value=e.target.value.replace(/[^A-Za-z\s]/g,""))},E=e=>{let a=e.target.minLength,r=e.target.maxLength;e.target.value.length<a?e.target.setCustomValidity("El n\xfamero debe tener entre ".concat(a," y ").concat(r," digitos.")):e.target.setCustomValidity("")},I=e=>{e.target.setCustomValidity("")},w=e=>{let{name:a,value:r}=e.target;if("phone"===a||"document"===a){let e=r.replace(/\D/g,"");j(r=>({...r,[a]:e}))}else if("department"===a){let e=u.find(e=>e.name===r);e&&x(e.id),j(e=>({...e,[a]:r,city:""}))}else j({...f,[a]:"checkbox"===e.target.type?e.target.checked:r})},O=async e=>{if(e.preventDefault(),await v(f.document)){y(!0),k("Ya est\xe1s registrado.");return}let a=N();Z(a),await C({...f,userCode:a})},T=()=>{j({firstName:"",lastName:"",document:"",department:"",city:"",phone:"",email:"",habeasData:!1}),Z(""),y(!1),k(""),r()};return(0,t.jsx)(o.Z,{open:a,onClose:r,children:(0,t.jsxs)(s.Z,{className:g().registerModalContent,children:[!b&&(0,t.jsxs)("form",{onSubmit:O,className:g().form,children:[(0,t.jsx)(i.Z,{label:"Nombre",name:"firstName",value:f.firstName,onChange:w,required:!0,fullWidth:!0,margin:"normal",onInput:R}),(0,t.jsx)(i.Z,{label:"Apellido",name:"lastName",value:f.lastName,onChange:w,required:!0,fullWidth:!0,margin:"normal",onInput:R}),(0,t.jsx)(i.Z,{type:"text",label:"C\xe9dula",name:"document",value:f.document,onChange:w,required:!0,onInvalid:E,onInput:I,fullWidth:!0,margin:"normal"}),(0,t.jsxs)(l.Z,{label:"Departamento",name:"department",value:f.department,onChange:w,required:!0,fullWidth:!0,displayEmpty:!0,children:[(0,t.jsx)(c.Z,{value:"",disabled:!0,children:"Selecciona tu Departamento"}),u.length>0?u.map(e=>(0,t.jsx)(c.Z,{value:e.name,children:e.name},e.id)):(0,t.jsx)(c.Z,{disabled:!0,children:"No hay departamentos disponibles"})]}),(0,t.jsxs)(l.Z,{label:"Ciudad",name:"city",value:f.city,onChange:w,required:!0,fullWidth:!0,displayEmpty:!0,margin:"normal",disabled:!f.department,children:[(0,t.jsx)(c.Z,{value:"",disabled:!0,children:"Selecciona tu Ciudad"}),_.map(e=>(0,t.jsx)(c.Z,{value:e.name,children:e.name},e.id))]}),(0,t.jsx)(i.Z,{label:"Celular",name:"phone",value:f.phone,onChange:w,required:!0,onInvalid:E,onInput:I,fullWidth:!0,margin:"normal",type:"text"}),(0,t.jsx)(i.Z,{label:"Correo Electr\xf3nico",name:"email",value:f.email,onChange:w,required:!0,fullWidth:!0,margin:"normal",type:"email"}),(0,t.jsxs)("div",{className:g().habeasContainer,children:[(0,t.jsx)(d.Z,{control:(0,t.jsx)(h.Z,{name:"habeasData",checked:f.habeasData,onChange:w,required:!0})}),(0,t.jsx)("label",{children:"Autorizo el tratamiento de mis datos de acuerdo con la finalidad establecida en la pol\xedtica de protecci\xf3n de datos personales"})]}),(0,t.jsx)(m.Z,{type:"submit",variant:"contained",color:"primary",className:g().registerButton,children:"Registrar Usuario"})]}),S?(0,t.jsxs)("div",{className:g().modalResponse,children:[(0,t.jsx)(p.Z,{variant:"body1",color:"error",children:M}),(0,t.jsx)(m.Z,{onClick:T,variant:"contained",color:"success",children:"Aceptar"})]}):b&&(0,t.jsxs)("div",{className:g().modalResponse,children:[(0,t.jsxs)(p.Z,{className:g().responseText,children:["Te registraste con \xe9xito. ",(0,t.jsx)("br",{})," Tu c\xf3digo para participar en el sorteo es",(0,t.jsx)(p.Z,{color:"primary",className:g().codeResponse,children:b})]}),(0,t.jsx)(m.Z,{onClick:T,variant:"contained",color:"success",children:"Aceptar"})]})]})})};var Z=r(6087),S=r.n(Z);let y=e=>{let{open:a,onClose:r}=e,[l,c]=(0,n.useState)(""),[d,h]=(0,n.useState)(""),[u,g]=(0,n.useState)(""),_=async()=>{let e=await v(l);e?(h(e.userCode),g("")):(h(""),g("A\xfan no est\xe1s registrado"))},x=()=>{c(""),h(""),g(""),r()};return(0,t.jsx)(o.Z,{open:a,onClose:x,children:(0,t.jsxs)(s.Z,{className:S().searchModalContent,children:[(0,t.jsxs)("div",{className:S().searchContainer,children:[(0,t.jsx)(i.Z,{label:"N\xfamero de Documento",value:l,onChange:e=>c(e.target.value)}),(0,t.jsx)(m.Z,{onClick:_,variant:"contained",children:"Consultar"})]}),d&&(0,t.jsxs)("div",{className:S().modalResponse,children:[(0,t.jsxs)(p.Z,{color:"primary",className:S().codeResponse,children:["Tu c\xf3digo es: ",d]}),(0,t.jsx)(m.Z,{onClick:x,variant:"contained",color:"success",children:"Aceptar"})]}),u&&(0,t.jsxs)("div",{className:S().modalResponse,children:[(0,t.jsx)(p.Z,{color:"error",children:u}),(0,t.jsx)(m.Z,{onClick:x,variant:"contained",color:"success",children:"Aceptar"})]})]})})};var M=r(6951),k=r(2108),R=r.n(k);let E={register:"register",search:"search"};function I(e){let{openRegisterModal:a,openSearchModal:r}=e,[o,s]=(0,n.useState)(null),i=e=>{s(null),e&&e===E.register?a():e&&e===E.search&&r()};return(0,t.jsxs)("div",{className:R().header,children:[(0,t.jsxs)("div",{className:R().leftNav,children:[(0,t.jsx)("a",{children:"VEH\xcdCULOS"}),(0,t.jsx)("a",{children:"CONCESIONARIOS"}),(0,t.jsx)("a",{children:"VEH\xcdCULOS USADOS"})]}),(0,t.jsxs)("div",{className:R().rightNav,children:[(0,t.jsx)(m.Z,{className:R().navSorteoButton,onClick:e=>{s(e.currentTarget)},variant:"outlined",size:"medium",children:"SORTEO"}),(0,t.jsxs)(M.Z,{id:"basic-menu",anchorEl:o,open:!!o,onClose:()=>i(null),MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,t.jsx)(c.Z,{onClick:()=>i(E.register),children:"Registrarme"}),(0,t.jsx)(c.Z,{onClick:()=>i(E.search),children:"Consultar mi c\xf3digo"})]})]})]})}var w=r(2472),O=r.n(w),T=r(2064),A=r.n(T),D=r(6648);function L(){return(0,t.jsxs)("footer",{className:A().footer,children:[(0,t.jsxs)("div",{className:A().footerLinksContainer,children:[(0,t.jsx)(p.Z,{children:"CONOCE UN POCO M\xc1S DE M\xcd"}),(0,t.jsxs)("div",{className:A().footerLinks,children:[(0,t.jsxs)("a",{href:"https://drive.google.com/file/d/1MC-Ke8oOPN89Ts2VUMWpfnKTSsI2eBuL/view?usp=sharing",target:"_blank",rel:"noopener noreferrer",children:[(0,t.jsx)(D.default,{"aria-hidden":!0,src:"/file.svg",alt:"File icon",width:16,height:16}),"Mi CV"]}),(0,t.jsxs)("a",{href:"https://www.linkedin.com/in/martin-corredor/",target:"_blank",rel:"noopener noreferrer",children:[(0,t.jsx)(D.default,{"aria-hidden":!0,src:"/window.svg",alt:"Window icon",width:16,height:16}),"Mi linkedin"]}),(0,t.jsxs)("a",{href:"https://github.com/martincorredor",target:"_blank",rel:"noopener noreferrer",children:[(0,t.jsx)(D.default,{"aria-hidden":!0,src:"/globe.svg",alt:"Globe icon",width:16,height:16}),"Mi Github â†’"]})]})]}),(0,t.jsxs)("div",{className:A().footerInfoContainer,children:[(0,t.jsx)(p.Z,{children:"CONT\xc1CTAME"}),(0,t.jsxs)("div",{className:A().footerInfo,children:[(0,t.jsx)(p.Z,{children:"Email: dev.martincorredor@gmail.com"}),(0,t.jsx)(p.Z,{children:"Whatsapp: (+57)3224682353"})]})]})]})}function B(){let[e,a]=(0,n.useState)(!1),[r,o]=(0,n.useState)(!1),[s,i]=(0,n.useState)([]),[l,c]=(0,n.useState)([]),d=async()=>{try{let e=await fetch("https://api-colombia.com/api/v1/Department"),a=(await e.json()).map(e=>({id:e.id,name:e.name}));i(a)}catch(e){console.error("Error al obtener los departamentos:",e)}},h=async e=>{try{let a=await fetch("https://api-colombia.com/api/v1/Department/".concat(e,"/cities")),r=await a.json();c(r)}catch(e){console.error("Error al obtener las ciudades:",e)}};return(0,n.useEffect)(()=>{d()},[]),console.log("search modal open?",r),(0,t.jsxs)("div",{className:O().page,children:[(0,t.jsx)(I,{openRegisterModal:()=>a(!0),openSearchModal:()=>o(!0)}),(0,t.jsxs)("main",{children:[(0,t.jsx)("div",{className:O().videoContainer,children:(0,t.jsx)("video",{src:"/lamborghini.mp4",autoPlay:!0,loop:!0,muted:!0,className:O().videoBackground})}),(0,t.jsxs)("div",{className:O().mainTitle,children:["M\xc1S QUE UN AUTO,",(0,t.jsx)("br",{}),"UN ESTILO DE VIDA"]})]}),(0,t.jsx)(L,{}),(0,t.jsx)(b,{open:e,onClose:()=>a(!1),departmentsList:s,cities:l,fetchCities:h}),(0,t.jsx)(y,{open:r,onClose:()=>o(!1)})]})}},2064:e=>{e.exports={footer:"Footer_footer__YgQC9",footerLinksContainer:"Footer_footerLinksContainer__J_of8",footerLinks:"Footer_footerLinks__d3qOD",footerInfoContainer:"Footer_footerInfoContainer__Nq63T",footerInfo:"Footer_footerInfo__hRodS"}},2108:e=>{e.exports={header:"Header_header__hrF4W",leftNav:"Header_leftNav__wpHLc",rightNav:"Header_rightNav__oz6eN",navSorteoButton:"Header_navSorteoButton__BZE9O"}},861:e=>{e.exports={registerModalContent:"RegisterModal_registerModalContent__l0Vnc",habeasContainer:"RegisterModal_habeasContainer__4hWWs",registerButton:"RegisterModal_registerButton__eG4i7",modalResponse:"RegisterModal_modalResponse__W8KH7",responseText:"RegisterModal_responseText__RL4Ll",codeResponse:"RegisterModal_codeResponse__N4A64"}},6087:e=>{e.exports={searchModalContent:"SearchCodeModal_searchModalContent__dm682",searchContainer:"SearchCodeModal_searchContainer__XPB8X",modalResponse:"SearchCodeModal_modalResponse__W2aHI",codeResponse:"SearchCodeModal_codeResponse__OsciR"}},2472:e=>{e.exports={page:"page_page__556_G",main:"page_main__nw1Wk",footer:"page_footer__F3MD0",primary:"page_primary__2CBMe",secondary:"page_secondary__jzhTV",ctas:"page_ctas__rfsth",logo:"page_logo__ikIZE",videoContainer:"page_videoContainer__n56bh",videoBackground:"page_videoBackground__64S2G",mainTitle:"page_mainTitle__hzwUM"}}},e=>{var a=a=>e(e.s=a);e.O(0,[913,358,38,130,215,744],()=>a(3718)),_N_E=e.O()}]);