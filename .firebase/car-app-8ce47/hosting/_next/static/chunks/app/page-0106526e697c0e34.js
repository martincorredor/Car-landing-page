(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3718:(e,a,t)=>{Promise.resolve().then(t.bind(t,4853))},4853:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>O});var o=t(7437),r=t(2265),s=t(8620),n=t(1538),i=t(2583),l=t(5870),c=t(8038),d=t(5786),m=t(511),h=t(861),u=t.n(h),p=t(5236),_=t(9842);let x=(0,p.ZF)({apiKey:"AIzaSyCnPFeH_LKfTUOUuTSxEBUj50DA-3Isv9o",authDomain:"car-app-8ce47.firebaseapp.com",projectId:"car-app-8ce47",storageBucket:"car-app-8ce47.appspot.com",messagingSenderId:"9657181403",appId:"1:9657181403:web:5f7697d4fc4060a2ae58fe",measurementId:"G-SYM3Z0BYS1"}),g=(0,_.ad)(x),j=async e=>{let{firstName:a,lastName:t,document:o,department:r,city:s,phone:n,email:i,habeasData:l,userCode:c}=e;try{await (0,_.ET)((0,_.hJ)(g,"users"),{firstName:a,lastName:t,document:o,department:r,city:s,phone:n,email:i,habeasData:l,userCode:c}),console.log("Usuario a\xf1adido correctamente")}catch(e){console.error("Error a\xf1adiendo el documento: ",e)}},C=async e=>{let a=(0,_.IO)((0,_.hJ)(g,"users"),(0,_.ar)("document","==",e)),t=await (0,_.PL)(a);return t.empty?null:t.docs[0].data()},f=()=>{let e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",a=e.charAt(Math.floor(Math.random()*e.length))+e.charAt(Math.floor(Math.random()*e.length)),t=Math.floor(100+900*Math.random());return"".concat(a).concat(t)},v=e=>{let{open:a,onClose:t,departmentsList:h,cities:p,fetchCities:_}=e,[x,g]=(0,r.useState)({firstName:"",lastName:"",document:"",department:"",city:"",phone:"",email:"",habeasData:!1}),[v,N]=(0,r.useState)(""),[M,b]=(0,r.useState)(!1),[B,S]=(0,r.useState)(""),y=e=>{/^[A-Za-z\s]*$/.test(e.target.value)||(e.target.value=e.target.value.replace(/[^A-Za-z\s]/g,""))},R=e=>{let a=e.target.minLength,t=e.target.maxLength;e.target.value.length<a?e.target.setCustomValidity("El n\xfamero debe tener entre ".concat(a," y ").concat(t," digitos.")):e.target.setCustomValidity("")},k=e=>{e.target.setCustomValidity("")},E=e=>{let{name:a,value:t}=e.target;if("phone"===a||"document"===a){let e=t.replace(/\D/g,"");g(t=>({...t,[a]:e}))}else if("department"===a){let e=h.find(e=>e.name===t);e&&_(e.id),g(e=>({...e,[a]:t,city:""}))}else g({...x,[a]:"checkbox"===e.target.type?e.target.checked:t})},I=async e=>{if(e.preventDefault(),await C(x.document)){b(!0),S("Ya est\xe1s registrado.");return}let a=f();N(a),await j({...x,userCode:a})},Z=()=>{g({firstName:"",lastName:"",document:"",department:"",city:"",phone:"",email:"",habeasData:!1}),N(""),b(!1),S(""),t()};return(0,o.jsx)(s.Z,{open:a,onClose:Z,children:(0,o.jsxs)(n.Z,{className:M?u().registerModalContentError:u().registerModalContent,children:[!v&&(0,o.jsxs)("form",{onSubmit:I,className:u().form,children:[(0,o.jsxs)("div",{className:u().userBox,children:[(0,o.jsx)("input",{type:"text",name:"firstName",value:x.firstName,onChange:E,onInput:y,required:!0}),(0,o.jsx)("label",{children:"Nombre"})]}),(0,o.jsxs)("div",{className:u().userBox,children:[(0,o.jsx)("input",{type:"text",name:"lastName",value:x.lastName,onChange:E,onInput:y,required:!0}),(0,o.jsx)("label",{children:"Apellido"})]}),(0,o.jsxs)("div",{className:u().userBox,children:[(0,o.jsx)("input",{type:"text",name:"document",value:x.document,onChange:E,minLength:7,maxLength:10,onInvalid:R,onInput:k,required:!0}),(0,o.jsx)("label",{children:"C\xe9dula"})]}),(0,o.jsxs)(i.Z,{label:"Departamento",name:"department",value:x.department,onChange:e=>{let a=h.find(a=>a.name===e.target.value);a&&_(a.id),g(a=>({...a,department:e.target.value,city:""}))},required:!0,fullWidth:!0,displayEmpty:!0,className:u().selectBox,children:[(0,o.jsx)(l.Z,{value:"",disabled:!0,children:"Selecciona tu Departamento"}),h.map(e=>(0,o.jsx)(l.Z,{value:e.name,children:e.name},e.id))]}),(0,o.jsxs)(i.Z,{label:"Ciudad",name:"city",value:x.city,onChange:E,required:!0,fullWidth:!0,displayEmpty:!0,margin:"normal",disabled:!x.department,className:u().selectBox,children:[(0,o.jsx)(l.Z,{value:"",disabled:!0,children:"Selecciona tu Ciudad"}),p.map(e=>(0,o.jsx)(l.Z,{value:e.name,children:e.name},e.id))]}),(0,o.jsxs)("div",{className:u().userBox,children:[(0,o.jsx)("input",{type:"text",name:"phone",value:x.phone,onChange:E,minLength:8,maxLength:10,onInvalid:R,onInput:k,required:!0}),(0,o.jsx)("label",{children:"Celular"})]}),(0,o.jsxs)("div",{className:u().userBox,children:[(0,o.jsx)("input",{type:"email",name:"email",value:x.email,onChange:E,required:!0}),(0,o.jsx)("label",{children:"Correo Electr\xf3nico"})]}),(0,o.jsx)("div",{className:u().habeasContainer,children:(0,o.jsx)(c.Z,{control:(0,o.jsx)(d.Z,{name:"habeasData",checked:x.habeasData,onChange:E,required:!0,className:u().checkBox}),label:"Autorizo el tratamiento de mis datos de acuerdo con la finalidad establecida en la pol\xedtica de protecci\xf3n de datos personales"})}),(0,o.jsx)("button",{type:"submit",variant:"contained",color:"primary",className:u().registerButton,children:"Registrar Usuario"})]}),M?(0,o.jsxs)("div",{className:u().modalResponse,children:[(0,o.jsx)(m.Z,{variant:"body1",color:"error",children:B}),(0,o.jsx)("button",{onClick:Z,className:u().aceptButton,children:"Aceptar"})]}):v&&(0,o.jsxs)("div",{className:u().modalResponse,children:[(0,o.jsxs)(m.Z,{className:u().responseText,children:["Te registraste con \xe9xito. ",(0,o.jsx)("br",{})," Tu c\xf3digo para participar en el sorteo es",(0,o.jsx)(m.Z,{color:"primary",className:u().codeResponse,children:v})]}),(0,o.jsx)("button",{onClick:Z,className:u().aceptButton,children:"Aceptar"})]})]})})};var N=t(6548),M=t(6087),b=t.n(M);let B=e=>{let{open:a,onClose:t}=e,[i,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[h,u]=(0,r.useState)(""),p=async e=>{if(e.preventDefault(),i.length>=7&&i.length<=10){let e=await C(i);e?(d(e.userCode),u("")):(d(""),u("A\xfan no est\xe1s registrado"))}else u("El documento debe tener entre 7 y 10 d\xedgitos.")},_=()=>{l(""),d(""),u(""),t()};return(0,o.jsx)(s.Z,{open:a,onClose:_,children:(0,o.jsx)(n.Z,{className:b().searchModalContent,children:(0,o.jsx)("div",{className:b().loginBox,children:c?(0,o.jsxs)("div",{className:b().modalResponse,children:[(0,o.jsxs)(m.Z,{color:"primary",className:b().codeResponse,children:["Tu c\xf3digo es: ",c]}),(0,o.jsx)(N.Z,{onClick:_,className:b().aceptButton,children:"Aceptar"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h2",{children:"Consulta tu c\xf3digo"}),(0,o.jsxs)("form",{onSubmit:p,children:[(0,o.jsxs)("div",{className:b().userBox,children:[(0,o.jsx)("input",{type:"text",name:"document",required:!0,value:i,onChange:e=>{""!=h&&u("");let{name:a,value:t}=e.target;l(t.replace(/\D/g,""))},minLength:7,maxLength:10}),(0,o.jsx)("label",{children:"N\xfamero de Documento"})]}),(0,o.jsx)(N.Z,{type:"submit",className:b().searchButton,children:"Consultar"})]}),h&&(0,o.jsxs)("div",{className:b().modalResponse,children:[(0,o.jsx)(m.Z,{color:"error",children:h}),(0,o.jsx)(N.Z,{onClick:_,className:b().aceptButton,children:"Aceptar"})]})]})})})})};var S=t(2108),y=t.n(S);function R(e){let{openRegisterModal:a,openSearchModal:t}=e,[s,n]=(0,r.useState)(!1),i=e=>{n(!1),"register"===e?a():"search"===e&&t()};return(0,o.jsxs)("div",{className:y().header,children:[(0,o.jsxs)("div",{className:y().leftNav,children:[(0,o.jsx)("a",{children:"VEH\xcdCULOS"}),(0,o.jsx)("a",{children:"CONCESIONARIOS"}),(0,o.jsx)("a",{children:"VEH\xcdCULOS USADOS"})]}),(0,o.jsxs)("div",{className:y().rightNav,children:[(0,o.jsx)("button",{onClick:()=>n(!s),className:y().registerButton,children:"SORTEO"}),s&&(0,o.jsxs)("div",{className:y().menu,children:[(0,o.jsx)("div",{className:y().menuItem,onClick:()=>i("register"),children:"Registrarme"}),(0,o.jsx)("div",{className:y().menuItem,onClick:()=>i("search"),children:"Consultar mi c\xf3digo"})]})]})]})}var k=t(2472),E=t.n(k),I=t(2064),Z=t.n(I),L=t(6648);function w(){return(0,o.jsxs)("footer",{className:Z().footer,children:[(0,o.jsxs)("div",{className:Z().footerLinksContainer,children:[(0,o.jsx)(m.Z,{children:"CONOCE UN POCO M\xc1S DE M\xcd"}),(0,o.jsxs)("div",{className:Z().footerLinks,children:[(0,o.jsxs)("a",{href:"https://drive.google.com/file/d/1MC-Ke8oOPN89Ts2VUMWpfnKTSsI2eBuL/view?usp=sharing",target:"_blank",rel:"noopener noreferrer",children:[(0,o.jsx)(L.default,{"aria-hidden":!0,src:"/file.svg",alt:"File icon",width:16,height:16}),"Mi CV"]}),(0,o.jsxs)("a",{href:"https://www.linkedin.com/in/martin-corredor/",target:"_blank",rel:"noopener noreferrer",children:[(0,o.jsx)(L.default,{"aria-hidden":!0,src:"/window.svg",alt:"Window icon",width:16,height:16}),"Mi linkedin"]}),(0,o.jsxs)("a",{href:"https://github.com/martincorredor",target:"_blank",rel:"noopener noreferrer",children:[(0,o.jsx)(L.default,{"aria-hidden":!0,src:"/globe.svg",alt:"Globe icon",width:16,height:16}),"Mi Github â†’"]})]})]}),(0,o.jsxs)("div",{className:Z().footerInfoContainer,children:[(0,o.jsx)(m.Z,{children:"CONT\xc1CTAME"}),(0,o.jsxs)("div",{className:Z().footerInfo,children:[(0,o.jsx)(m.Z,{children:"Email: dev.martincorredor@gmail.com"}),(0,o.jsx)(m.Z,{children:"Whatsapp: (+57)3224682353"})]})]})]})}var T=t(9354),A=t.n(T);function D(e){let{open:a,onClose:t,openRegisterModal:r,openSearchModal:i}=e;return(0,o.jsx)(s.Z,{open:a,onClose:t,children:(0,o.jsxs)(n.Z,{className:A().promotionModalContent,children:[(0,o.jsx)(L.default,{src:"/sorteo.png",alt:"sorteo",className:A().sorteoImage,width:600,height:400}),(0,o.jsxs)("div",{className:A().buttonsContainer,children:[(0,o.jsx)("button",{onClick:()=>{t(),r()},className:A().registerButton,children:"REGISTRARME"}),(0,o.jsx)("button",{onClick:()=>{t(),i()},className:A().searchButton,children:"Consultar mi c\xf3digo"})]})]})})}function O(){let[e,a]=(0,r.useState)(!1),[t,s]=(0,r.useState)(!1),[n,i]=(0,r.useState)([]),[l,c]=(0,r.useState)([]),[d,m]=(0,r.useState)(!1),h=async()=>{try{let e=await fetch("https://api-colombia.com/api/v1/Department"),a=(await e.json()).map(e=>({id:e.id,name:e.name}));i(a)}catch(e){console.error("Error al obtener los departamentos:",e)}},u=async e=>{try{let a=await fetch("https://api-colombia.com/api/v1/Department/".concat(e,"/cities")),t=await a.json();c(t)}catch(e){console.error("Error al obtener las ciudades:",e)}};return(0,r.useEffect)(()=>{h(),m(!0)},[]),(0,o.jsxs)("div",{className:E().page,children:[(0,o.jsx)(R,{openRegisterModal:()=>a(!0),openSearchModal:()=>s(!0)}),(0,o.jsxs)("main",{children:[(0,o.jsx)("div",{className:E().videoContainer,children:(0,o.jsx)("video",{src:"/lamborghini.mp4",autoPlay:!0,loop:!0,muted:!0,className:E().videoBackground})}),(0,o.jsxs)("div",{className:E().mainTitle,children:["M\xc1S QUE UN AUTO,",(0,o.jsx)("br",{}),"UN ESTILO DE VIDA"]})]}),(0,o.jsx)(w,{}),(0,o.jsx)(v,{open:e,onClose:()=>a(!1),departmentsList:n,cities:l,fetchCities:u}),(0,o.jsx)(B,{open:t,onClose:()=>s(!1)}),(0,o.jsx)(D,{open:d,onClose:()=>m(!1),openRegisterModal:()=>a(!0),openSearchModal:()=>s(!0)})]})}},2064:e=>{e.exports={footer:"Footer_footer__YgQC9",footerLinksContainer:"Footer_footerLinksContainer__J_of8",footerLinks:"Footer_footerLinks__d3qOD",footerInfoContainer:"Footer_footerInfoContainer__Nq63T",footerInfo:"Footer_footerInfo__hRodS"}},2108:e=>{e.exports={header:"Header_header__hrF4W",leftNav:"Header_leftNav__wpHLc",registerButton:"Header_registerButton__Bb_8t",menu:"Header_menu__8FCNf",menuItem:"Header_menuItem__tFiSV"}},9354:e=>{e.exports={promotionModalContent:"PromotionModal_promotionModalContent__WSLW4",sorteoImage:"PromotionModal_sorteoImage__1vcMl",buttonsContainer:"PromotionModal_buttonsContainer__dotFL",registerButton:"PromotionModal_registerButton__kxcGE",searchButton:"PromotionModal_searchButton__KVrVE"}},861:e=>{e.exports={registerModalContent:"RegisterModal_registerModalContent__l0Vnc",registerModalContentError:"RegisterModal_registerModalContentError__qKMjE",form:"RegisterModal_form__JqvnA",userBox:"RegisterModal_userBox__JUu17",selectBox:"RegisterModal_selectBox__nX0AZ",habeasContainer:"RegisterModal_habeasContainer__4hWWs",checkBox:"RegisterModal_checkBox__bkMTL",registerButton:"RegisterModal_registerButton__eG4i7",modalResponse:"RegisterModal_modalResponse__W8KH7",responseText:"RegisterModal_responseText__RL4Ll",codeResponse:"RegisterModal_codeResponse__N4A64",aceptButton:"RegisterModal_aceptButton__I0nyR"}},6087:e=>{e.exports={loginBox:"SearchCodeModal_loginBox__monAU",userBox:"SearchCodeModal_userBox__7ic_0",modalResponse:"SearchCodeModal_modalResponse__W2aHI",codeResponse:"SearchCodeModal_codeResponse__OsciR",searchButton:"SearchCodeModal_searchButton__4iZEp",aceptButton:"SearchCodeModal_aceptButton__4eDsT"}},2472:e=>{e.exports={page:"page_page__556_G",main:"page_main__nw1Wk",footer:"page_footer__F3MD0",primary:"page_primary__2CBMe",secondary:"page_secondary__jzhTV",ctas:"page_ctas__rfsth",logo:"page_logo__ikIZE",videoContainer:"page_videoContainer__n56bh",videoBackground:"page_videoBackground__64S2G",mainTitle:"page_mainTitle__hzwUM"}}},e=>{var a=a=>e(e.s=a);e.O(0,[192,358,942,130,215,744],()=>a(3718)),_N_E=e.O()}]);