(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3718:(e,a,t)=>{Promise.resolve().then(t.bind(t,4853))},4853:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>U});var o=t(7437),r=t(2265),s=t(8620),n=t(1538),i=t(2448),l=t(5870),c=t(8038),d=t(5786),m=t(6548),h=t(511),u=t(861),p=t.n(u),x=t(5236),_=t(9842);let g=(0,x.ZF)({apiKey:"AIzaSyCnPFeH_LKfTUOUuTSxEBUj50DA-3Isv9o",authDomain:"car-app-8ce47.firebaseapp.com",projectId:"car-app-8ce47",storageBucket:"car-app-8ce47.appspot.com",messagingSenderId:"9657181403",appId:"1:9657181403:web:5f7697d4fc4060a2ae58fe",measurementId:"G-SYM3Z0BYS1"}),j=(0,_.ad)(g),v=async e=>{let{firstName:a,lastName:t,document:o,department:r,city:s,phone:n,email:i,habeasData:l,userCode:c}=e;try{await (0,_.ET)((0,_.hJ)(j,"users"),{firstName:a,lastName:t,document:o,department:r,city:s,phone:n,email:i,habeasData:l,userCode:c}),console.log("Usuario a\xf1adido correctamente")}catch(e){console.error("Error a\xf1adiendo el documento: ",e)}},C=async e=>{let a=(0,_.IO)((0,_.hJ)(j,"users"),(0,_.ar)("document","==",e)),t=await (0,_.PL)(a);return t.empty?null:t.docs[0].data()},f=()=>{let e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",a=e.charAt(Math.floor(Math.random()*e.length))+e.charAt(Math.floor(Math.random()*e.length)),t=Math.floor(100+900*Math.random());return"".concat(a).concat(t)},N=e=>{let{open:a,onClose:t,departmentsList:u,cities:x,fetchCities:_}=e,[g,j]=(0,r.useState)({firstName:"",lastName:"",document:"",department:"",city:"",phone:"",email:"",habeasData:!1}),[N,b]=(0,r.useState)(""),[M,S]=(0,r.useState)(!1),[y,B]=(0,r.useState)(""),Z=e=>{/^[A-Za-z\s]*$/.test(e.target.value)||(e.target.value=e.target.value.replace(/[^A-Za-z\s]/g,""))},k=e=>{let a=e.target.minLength,t=e.target.maxLength;e.target.value.length<a?e.target.setCustomValidity("El n\xfamero debe tener entre ".concat(a," y ").concat(t," digitos.")):e.target.setCustomValidity("")},R=e=>{e.target.setCustomValidity("")},I=e=>{let{name:a,value:t}=e.target;if("phone"===a||"document"===a){let e=t.replace(/\D/g,"");j(t=>({...t,[a]:e}))}else if("department"===a){let e=u.find(e=>e.name===t);e&&_(e.id),j(e=>({...e,[a]:t,city:""}))}else j({...g,[a]:"checkbox"===e.target.type?e.target.checked:t})},E=async e=>{if(e.preventDefault(),await C(g.document)){S(!0),B("Ya est\xe1s registrado.");return}let a=f();b(a),await v({...g,userCode:a})},w=()=>{j({firstName:"",lastName:"",document:"",department:"",city:"",phone:"",email:"",habeasData:!1}),b(""),S(!1),B(""),t()};return(0,o.jsx)(s.Z,{open:a,onClose:t,children:(0,o.jsxs)(n.Z,{className:p().registerModalContent,children:[!N&&(0,o.jsxs)("form",{onSubmit:E,className:p().form,children:[(0,o.jsxs)("div",{className:p().userBox,children:[(0,o.jsx)("input",{type:"text",name:"firstName",value:g.firstName,onChange:I,onInput:Z,required:!0}),(0,o.jsx)("label",{children:"Nombre"})]}),(0,o.jsxs)("div",{className:p().userBox,children:[(0,o.jsx)("input",{type:"text",name:"lastName",value:g.lastName,onChange:I,onInput:Z,required:!0}),(0,o.jsx)("label",{children:"Apellido"})]}),(0,o.jsxs)("div",{className:p().userBox,children:[(0,o.jsx)("input",{type:"text",name:"document",value:g.document,onChange:I,minLength:7,maxLength:10,onInvalid:k,onInput:R,required:!0}),(0,o.jsx)("label",{children:"C\xe9dula"})]}),(0,o.jsxs)(i.Z,{label:"Departamento",name:"department",value:g.department,onChange:e=>{let a=u.find(a=>a.name===e.target.value);a&&_(a.id),j(a=>({...a,department:e.target.value,city:""}))},required:!0,fullWidth:!0,displayEmpty:!0,className:p().selectBox,children:[(0,o.jsx)(l.Z,{value:"",disabled:!0,children:"Selecciona tu Departamento"}),u.map(e=>(0,o.jsx)(l.Z,{value:e.name,children:e.name},e.id))]}),(0,o.jsxs)(i.Z,{label:"Ciudad",name:"city",value:g.city,onChange:I,required:!0,fullWidth:!0,displayEmpty:!0,margin:"normal",disabled:!g.department,className:p().selectBox,children:[(0,o.jsx)(l.Z,{value:"",disabled:!0,children:"Selecciona tu Ciudad"}),x.map(e=>(0,o.jsx)(l.Z,{value:e.name,children:e.name},e.id))]}),(0,o.jsxs)("div",{className:p().userBox,children:[(0,o.jsx)("input",{type:"text",name:"phone",value:g.phone,onChange:I,minLength:8,maxLength:10,onInvalid:k,onInput:R,required:!0}),(0,o.jsx)("label",{children:"Celular"})]}),(0,o.jsxs)("div",{className:p().userBox,children:[(0,o.jsx)("input",{type:"email",name:"email",value:g.email,onChange:I,required:!0}),(0,o.jsx)("label",{children:"Correo Electr\xf3nico"})]}),(0,o.jsx)("div",{className:p().habeasContainer,children:(0,o.jsx)(c.Z,{control:(0,o.jsx)(d.Z,{name:"habeasData",checked:g.habeasData,onChange:I,required:!0,className:p().checkBox}),label:"Autorizo el tratamiento de mis datos de acuerdo con la finalidad establecida en la pol\xedtica de protecci\xf3n de datos personales"})}),(0,o.jsx)(m.Z,{type:"submit",variant:"contained",color:"primary",className:p().registerButton,children:"Registrar Usuario"})]}),M?(0,o.jsxs)("div",{className:p().modalResponse,children:[(0,o.jsx)(h.Z,{variant:"body1",color:"error",children:y}),(0,o.jsx)(m.Z,{onClick:w,variant:"contained",color:"success",children:"Aceptar"})]}):N&&(0,o.jsxs)("div",{className:p().modalResponse,children:[(0,o.jsxs)(h.Z,{className:p().responseText,children:["Te registraste con \xe9xito. ",(0,o.jsx)("br",{})," Tu c\xf3digo para participar en el sorteo es",(0,o.jsx)(h.Z,{color:"primary",className:p().codeResponse,children:N})]}),(0,o.jsx)(m.Z,{onClick:w,variant:"contained",color:"success",children:"Aceptar"})]})]})})};var b=t(6087),M=t.n(b);let S=e=>{let{open:a,onClose:t}=e,[i,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[u,p]=(0,r.useState)(""),x=async()=>{let e=await C(i);e?(d(e.userCode),p("")):(d(""),p("A\xfan no est\xe1s registrado"))},_=()=>{l(""),d(""),p(""),t()};return(0,o.jsx)(s.Z,{open:a,onClose:_,children:(0,o.jsx)(n.Z,{className:M().searchModalContent,children:(0,o.jsx)("div",{className:M().loginBox,children:c?(0,o.jsxs)("div",{className:M().modalResponse,children:[(0,o.jsxs)(h.Z,{color:"primary",className:M().codeResponse,children:["Tu c\xf3digo es: ",c]}),(0,o.jsx)(m.Z,{onClick:_,variant:"contained",color:"success",children:"Aceptar"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h2",{children:"Consulta tu c\xf3digo"}),(0,o.jsxs)("form",{children:[(0,o.jsxs)("div",{className:M().userBox,children:[(0,o.jsx)("input",{type:"text",required:!0,value:i,onChange:e=>l(e.target.value)}),(0,o.jsx)("label",{children:"N\xfamero de Documento"})]}),(0,o.jsx)(m.Z,{onClick:x,variant:"contained",color:"primary",style:{marginTop:"30px",width:"100%"},children:"Consultar"})]}),u&&(0,o.jsxs)("div",{className:M().modalResponse,children:[(0,o.jsx)(h.Z,{color:"error",children:u}),(0,o.jsx)(m.Z,{onClick:_,variant:"contained",color:"success",children:"Aceptar"})]})]})})})})};var y=t(6951),B=t(2108),Z=t.n(B);function k(e){let{openRegisterModal:a,openSearchModal:t}=e,[s,n]=(0,r.useState)(null),i=e=>{n(null),"register"===e?a():"search"===e&&t()};return(0,o.jsxs)("div",{className:Z().header,children:[(0,o.jsxs)("div",{className:Z().leftNav,children:[(0,o.jsx)("a",{children:"VEH\xcdCULOS"}),(0,o.jsx)("a",{children:"CONCESIONARIOS"}),(0,o.jsx)("a",{children:"VEH\xcdCULOS USADOS"})]}),(0,o.jsxs)("div",{className:Z().rightNav,children:[(0,o.jsx)(m.Z,{className:Z().navSorteoButton,onClick:e=>n(e.currentTarget),variant:"outlined",size:"medium",children:"SORTEO"}),(0,o.jsxs)(y.Z,{id:"basic-menu",anchorEl:s,open:!!s,onClose:()=>i(null),MenuListProps:{"aria-labelledby":"basic-button"},classes:{paper:Z().menuPaper},children:[(0,o.jsx)(l.Z,{className:Z().menuItem,onClick:()=>i("register"),children:"Registrarme"}),(0,o.jsx)(l.Z,{className:Z().menuItem,onClick:()=>i("search"),children:"Consultar mi c\xf3digo"})]})]})]})}var R=t(2472),I=t.n(R),E=t(2064),w=t.n(E),L=t(6648);function T(){return(0,o.jsxs)("footer",{className:w().footer,children:[(0,o.jsxs)("div",{className:w().footerLinksContainer,children:[(0,o.jsx)(h.Z,{children:"CONOCE UN POCO M\xc1S DE M\xcd"}),(0,o.jsxs)("div",{className:w().footerLinks,children:[(0,o.jsxs)("a",{href:"https://drive.google.com/file/d/1MC-Ke8oOPN89Ts2VUMWpfnKTSsI2eBuL/view?usp=sharing",target:"_blank",rel:"noopener noreferrer",children:[(0,o.jsx)(L.default,{"aria-hidden":!0,src:"/file.svg",alt:"File icon",width:16,height:16}),"Mi CV"]}),(0,o.jsxs)("a",{href:"https://www.linkedin.com/in/martin-corredor/",target:"_blank",rel:"noopener noreferrer",children:[(0,o.jsx)(L.default,{"aria-hidden":!0,src:"/window.svg",alt:"Window icon",width:16,height:16}),"Mi linkedin"]}),(0,o.jsxs)("a",{href:"https://github.com/martincorredor",target:"_blank",rel:"noopener noreferrer",children:[(0,o.jsx)(L.default,{"aria-hidden":!0,src:"/globe.svg",alt:"Globe icon",width:16,height:16}),"Mi Github â†’"]})]})]}),(0,o.jsxs)("div",{className:w().footerInfoContainer,children:[(0,o.jsx)(h.Z,{children:"CONT\xc1CTAME"}),(0,o.jsxs)("div",{className:w().footerInfo,children:[(0,o.jsx)(h.Z,{children:"Email: dev.martincorredor@gmail.com"}),(0,o.jsx)(h.Z,{children:"Whatsapp: (+57)3224682353"})]})]})]})}var O=t(9354),A=t.n(O);function D(e){let{open:a,onClose:t,openRegisterModal:r,openSearchModal:i}=e;return(0,o.jsx)(s.Z,{open:a,onClose:t,children:(0,o.jsxs)(n.Z,{className:A().promotionModalContent,children:[(0,o.jsx)(L.default,{src:"/sorteo.png",alt:"sorteo",className:A().sorteoImage,width:600,height:400}),(0,o.jsxs)("div",{className:A().buttonsContainer,children:[(0,o.jsx)("button",{onClick:()=>{t(),r()},className:A().registerButton,children:"REGISTRARME"}),(0,o.jsx)("button",{onClick:()=>{t(),i()},className:A().searchButton,children:"Consultar mi c\xf3digo"})]})]})})}function U(){let[e,a]=(0,r.useState)(!1),[t,s]=(0,r.useState)(!1),[n,i]=(0,r.useState)([]),[l,c]=(0,r.useState)([]),[d,m]=(0,r.useState)(!1),h=async()=>{try{let e=await fetch("https://api-colombia.com/api/v1/Department"),a=(await e.json()).map(e=>({id:e.id,name:e.name}));i(a)}catch(e){console.error("Error al obtener los departamentos:",e)}},u=async e=>{try{let a=await fetch("https://api-colombia.com/api/v1/Department/".concat(e,"/cities")),t=await a.json();c(t)}catch(e){console.error("Error al obtener las ciudades:",e)}};return(0,r.useEffect)(()=>{h(),m(!0)},[]),(0,o.jsxs)("div",{className:I().page,children:[(0,o.jsx)(k,{openRegisterModal:()=>a(!0),openSearchModal:()=>s(!0)}),(0,o.jsxs)("main",{children:[(0,o.jsx)("div",{className:I().videoContainer,children:(0,o.jsx)("video",{src:"/lamborghini.mp4",autoPlay:!0,loop:!0,muted:!0,className:I().videoBackground})}),(0,o.jsxs)("div",{className:I().mainTitle,children:["M\xc1S QUE UN AUTO,",(0,o.jsx)("br",{}),"UN ESTILO DE VIDA"]})]}),(0,o.jsx)(T,{}),(0,o.jsx)(N,{open:e,onClose:()=>a(!1),departmentsList:n,cities:l,fetchCities:u}),(0,o.jsx)(S,{open:t,onClose:()=>s(!1)}),(0,o.jsx)(D,{open:d,onClose:()=>m(!1),openRegisterModal:()=>a(!0),openSearchModal:()=>s(!0)})]})}},2064:e=>{e.exports={footer:"Footer_footer__YgQC9",footerLinksContainer:"Footer_footerLinksContainer__J_of8",footerLinks:"Footer_footerLinks__d3qOD",footerInfoContainer:"Footer_footerInfoContainer__Nq63T",footerInfo:"Footer_footerInfo__hRodS"}},2108:e=>{e.exports={header:"Header_header__hrF4W",leftNav:"Header_leftNav__wpHLc",rightNav:"Header_rightNav__oz6eN",navSorteoButton:"Header_navSorteoButton__BZE9O",menuPaper:"Header_menuPaper__NWO7S",menuItem:"Header_menuItem__tFiSV"}},9354:e=>{e.exports={promotionModalContent:"PromotionModal_promotionModalContent__WSLW4",sorteoImage:"PromotionModal_sorteoImage__1vcMl",buttonsContainer:"PromotionModal_buttonsContainer__dotFL",registerButton:"PromotionModal_registerButton__kxcGE",searchButton:"PromotionModal_searchButton__KVrVE"}},861:e=>{e.exports={registerModalContent:"RegisterModal_registerModalContent__l0Vnc",form:"RegisterModal_form__JqvnA",userBox:"RegisterModal_userBox__JUu17",selectBox:"RegisterModal_selectBox__nX0AZ",habeasContainer:"RegisterModal_habeasContainer__4hWWs",checkBox:"RegisterModal_checkBox__bkMTL",registerButton:"RegisterModal_registerButton__eG4i7",modalResponse:"RegisterModal_modalResponse__W8KH7",responseText:"RegisterModal_responseText__RL4Ll",codeResponse:"RegisterModal_codeResponse__N4A64"}},6087:e=>{e.exports={loginBox:"SearchCodeModal_loginBox__monAU",userBox:"SearchCodeModal_userBox__7ic_0",modalResponse:"SearchCodeModal_modalResponse__W2aHI",codeResponse:"SearchCodeModal_codeResponse__OsciR"}},2472:e=>{e.exports={page:"page_page__556_G",main:"page_main__nw1Wk",footer:"page_footer__F3MD0",primary:"page_primary__2CBMe",secondary:"page_secondary__jzhTV",ctas:"page_ctas__rfsth",logo:"page_logo__ikIZE",videoContainer:"page_videoContainer__n56bh",videoBackground:"page_videoBackground__64S2G",mainTitle:"page_mainTitle__hzwUM"}}},e=>{var a=a=>e(e.s=a);e.O(0,[192,358,361,130,215,744],()=>a(3718)),_N_E=e.O()}]);